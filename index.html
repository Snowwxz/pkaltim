<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKAltim - Pariwisata Kalimantan Timur</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            scroll-behavior: smooth;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .dark .glass-card {
            background: rgba(17, 24, 39, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .gradient-text {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        .section-closed {
            pointer-events: none;
            filter: blur(3px);
            opacity: 0.5;
            user-select: none;
        }

        .progress-ring {
            transform: rotate(-90deg);
        }

        .closing-banner {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-card">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <span class="text-2xl">üåø</span>
                    <span class="font-bold text-xl tracking-tight">PKAltim</span>
                </div>
                <div class="flex items-center gap-4">
                    <div class="hidden md:flex space-x-8">
                        <a href="#home" class="hover:text-emerald-500 transition-colors">Beranda</a>
                        <a href="#about" class="hover:text-emerald-500 transition-colors">Tentang</a>
                        <a href="#teams" class="hover:text-emerald-500 transition-colors">Tim</a>
                        <a href="https://github.com/fk0u/pkaltim/blob/main/docs/submission-guide.md" target="_blank" class="hover:text-emerald-500 transition-colors">Panduan</a>
                    </div>
                    <button id="themeToggle" class="glass-card px-3 py-2 rounded-full text-sm font-semibold hover:bg-gray-100 dark:hover:bg-gray-800 transition flex items-center gap-2 border border-gray-200 dark:border-gray-700" aria-label="Toggle theme">
                        <span id="themeIcon">üåû</span>
                        <span class="hidden sm:inline" id="themeLabel">Light</span>
                    </button>
                    <a href="https://github.com/fk0u/pkaltim" target="_blank" 
                       class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-full text-sm font-semibold transition-all transform hover:scale-105 shadow-lg flex items-center gap-2">
                        <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        GitHub Repo
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="pt-32 pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto min-h-screen flex items-center">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div class="space-y-8 animate-fade-in-up">
                <div class="inline-block px-4 py-1.5 rounded-full bg-emerald-100 text-emerald-800 font-semibold text-sm mb-4">
                    SMK Negeri 7 Samarinda ‚Ä¢ XII PPLG 1
                </div>
                <h1 class="text-5xl md:text-7xl font-bold leading-tight">
                    Pariwisata <br>
                    <span class="gradient-text">Kalimantan Timur</span> <br>
                    Berkelanjutan
                </h1>
                <p class="text-xl text-gray-600 dark:text-gray-300 max-w-lg">
                    Project kolaborasi 12 Tim untuk memajukan potensi wisata digital Kaltim. Modern, Terstruktur, Future-Ready.
                </p>
                <div class="flex flex-wrap gap-4">
                    <a href="https://github.com/fk0u/pkaltim/tree/main/teams/tim-contoh" target="_blank"
                       class="bg-emerald-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-emerald-700 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                        Lihat Contoh Project üöÄ
                    </a>
                    <a href="https://github.com/fk0u/pkaltim/blob/main/docs/submission-guide.md" target="_blank"
                       class="glass-card text-gray-900 dark:text-gray-100 px-8 py-4 rounded-xl font-bold hover:bg-gray-100 dark:hover:bg-gray-800 transition border border-gray-200 dark:border-gray-700">
                        Baca Panduan üìñ
                    </a>
                </div>
                
                <div class="pt-8 flex items-center gap-4 text-sm text-gray-500">
                    <div class="flex -space-x-2">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs ring-2 ring-white">N</div>
                        <div class="w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs ring-2 ring-white">G</div>
                        <div class="w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-xs ring-2 ring-white">W</div>
                    </div>
                    <span>Dikoordinasi oleh Navies, Ghani, & Widhi</span>
                </div>
            </div>
            
            <div class="relative hidden md:block">
                <div class="absolute top-0 right-0 w-72 h-72 bg-emerald-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
                <div class="absolute top-0 -right-4 w-72 h-72 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
                <!-- 3D Illustration placeholder using Tailwind shapes -->
                <div class="relative glass-card bg-white/30 dark:bg-gray-800/30 p-8 rounded-2xl shadow-2xl animate-float">
                    <div class="flex items-center gap-4 mb-6 border-b border-gray-100 dark:border-gray-700 pb-4">
                        <div class="w-3 h-3 rounded-full bg-red-400"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                        <div class="w-3 h-3 rounded-full bg-green-400"></div>
                        <span class="ml-auto text-xs font-mono text-gray-400">tim-contoh/index.php</span>
                    </div>
                    <div class="space-y-4">
                        <div class="h-32 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"></div>
                        <div class="grid grid-cols-3 gap-4">
                            <div class="h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg"></div>
                            <div class="h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg"></div>
                            <div class="h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg"></div>
                        </div>
                        <div class="h-8 bg-gray-100 dark:bg-gray-700 rounded w-3/4"></div>
                        <div class="h-4 bg-gray-100 dark:bg-gray-700 rounded w-1/2"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-10 bg-white dark:bg-gray-800/50">
        <div class="max-w-7xl mx-auto px-4 grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
            <div class="p-6">
                <div class="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-emerald-400">12</div>
                <div class="text-sm font-medium text-gray-500 mt-2">Tim Solid</div>
            </div>
            <div class="p-6">
                <div class="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-purple-400">100%</div>
                <div class="text-sm font-medium text-gray-500 mt-2">Karya Siswa</div>
            </div>
            <div class="p-6">
                <div class="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400">PHP</div>
                <div class="text-sm font-medium text-gray-500 mt-2">Tech Stack</div>
            </div>
            <div class="p-6">
                <div class="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-orange-600 to-orange-400">2026</div>
                <div class="text-sm font-medium text-gray-500 mt-2">Tahun Project</div>
            </div>
        </div>
    </section>

    <!-- Progress Ringkas -->
    <section class="py-14 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto" id="about">
        <div class="glass-card rounded-2xl p-6 md:p-8 shadow-xl">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-6">
                <div>
                    <p class="text-sm text-gray-500">Ringkasan realtime ‚Äî tersinkron dari GitHub Issues (label subtema) ‚Ä¢ batas publik GitHub 60 req/jam</p>
                    <h3 class="text-2xl font-bold mt-1">Progress Mini Project</h3>
                </div>
                <div class="flex flex-wrap gap-3 text-sm">
                    <span id="badgeSubmitted" class="px-3 py-1 rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900/60 dark:text-emerald-200">Submitted: 0/12</span>
                    <span id="badgeClaims" class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/60 dark:text-blue-200">Subtema dipilih: 0/12</span>
                    <span id="badgePending" class="px-3 py-1 rounded-full bg-amber-100 text-amber-700 dark:bg-amber-900/60 dark:text-amber-200">Belum pilih: 12</span>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <div class="flex justify-between text-sm text-gray-500 mb-2">
                        <span>Subtema dipilih</span><span><span id="claimsCount">0</span>/12</span>
                    </div>
                    <div class="w-full bg-gray-100 dark:bg-gray-800 rounded-full h-3">
                        <div id="barClaims" class="bg-blue-500 h-3 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between text-sm text-gray-500 mb-2">
                        <span>Submission selesai</span><span><span id="submitCount">0</span>/12</span>
                    </div>
                    <div class="w-full bg-gray-100 dark:bg-gray-800 rounded-full h-3">
                        <div id="barSubmit" class="bg-emerald-500 h-3 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
                <div class="glass-card rounded-xl p-4 border border-gray-200 dark:border-gray-800">
                    <div class="text-xs uppercase tracking-wide text-gray-500 mb-1">Step 1</div>
                    <div class="font-semibold">Claim subtema (1 dari 5)</div>
                    <p class="text-gray-500 text-sm">Gunakan tombol claim subtema di bawah.</p>
                </div>
                <div class="glass-card rounded-xl p-4 border border-gray-200 dark:border-gray-800">
                    <div class="text-xs uppercase tracking-wide text-gray-500 mb-1">Step 2</div>
                    <div class="font-semibold">Kerjakan di folder tim</div>
                    <p class="text-gray-500 text-sm">Isi README tim + mulai coding.</p>
                </div>
                <div class="glass-card rounded-xl p-4 border border-gray-200 dark:border-gray-800">
                    <div class="text-xs uppercase tracking-wide text-gray-500 mb-1">Step 3</div>
                    <div class="font-semibold">Submit via Pull Request</div>
                    <p class="text-gray-500 text-sm">Ikuti panduan submission guide.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Closing Banner -->
    <section class="py-6 px-4 closing-banner">
        <div class="max-w-7xl mx-auto text-center text-white">
            <div class="flex items-center justify-center gap-3 mb-2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                <h3 class="text-xl font-bold">PERIODE PEMILIHAN SUBTEMA DITUTUP</h3>
            </div>
            <p class="text-sm opacity-90">Perubahan subtema hanya dapat dilakukan dengan konfirmasi ke PIC: <a href="https://wa.me/6282157566869" target="_blank" class="underline font-semibold hover:text-yellow-200">WhatsApp Navies</a> atau bicara langsung</p>
        </div>
    </section>

    <!-- Subtheme Choices -->
    <section id="subtema-section" class="py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative section-closed">
        <div class="absolute inset-0 flex items-center justify-center z-10 pointer-events-auto">
            <div class="glass-card p-6 rounded-2xl shadow-2xl text-center max-w-md">
                <div class="text-4xl mb-3">üîí</div>
                <h3 class="text-xl font-bold mb-2">Pemilihan Subtema Ditutup</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">Untuk perubahan subtema, hubungi PIC:</p>
                <div class="flex flex-col gap-2">
                    <a href="https://wa.me/6282157566869" target="_blank" 
                       class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-semibold transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        WhatsApp PIC
                    </a>
                    <p class="text-xs text-gray-500">Atau bicara langsung dengan koordinator</p>
                </div>
            </div>
        </div>
        <div class="text-center mb-12 space-y-4">
            <h2 class="text-3xl md:text-4xl font-bold">Pilih 1 dari 5 Subtema</h2>
            <p class="text-gray-500 dark:text-gray-400">Tim memilih sendiri subtema berikut (boleh sama antar tim)</p>
            <div class="flex flex-wrap justify-center gap-3">
                <button id="openClaimModal" class="bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-full text-sm font-semibold shadow-lg transition" disabled>Claim Subtema via Modal</button>
                <a href="https://github.com/fk0u/pkaltim/blob/main/docs/TUGAS-MINI-PROJECT.md" class="glass-card px-5 py-3 rounded-full text-sm font-semibold border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition" target="_blank">Lihat Detail Subtema</a>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="glass-card p-5 rounded-2xl border-t-4 border-emerald-500 shadow-sm">
                <div class="flex items-start gap-3 mb-3">
                    <span class="text-2xl">üèûÔ∏è</span>
                    <div>
                        <h3 class="font-bold text-lg">Wisata Alam</h3>
                        <p class="text-sm text-gray-500">Gunung, pantai, hutan, danau, air terjun.</p>
                    </div>
                </div>
            </div>
            <div class="glass-card p-5 rounded-2xl border-t-4 border-orange-500 shadow-sm">
                <div class="flex items-start gap-3 mb-3">
                    <span class="text-2xl">üçú</span>
                    <div>
                        <h3 class="font-bold text-lg">Kuliner Khas</h3>
                        <p class="text-sm text-gray-500">Makanan/minuman tradisional Kalimantan Timur.</p>
                    </div>
                </div>
            </div>
            <div class="glass-card p-5 rounded-2xl border-t-4 border-emerald-500 shadow-sm">
                <div class="flex items-start gap-3 mb-3">
                    <span class="text-2xl">üïå</span>
                    <div>
                        <h3 class="font-bold text-lg">Religi & Budaya</h3>
                        <p class="text-sm text-gray-500">Tempat ibadah, ritual adat, sejarah budaya.</p>
                    </div>
                </div>
            </div>
            <div class="glass-card p-5 rounded-2xl border-t-4 border-purple-500 shadow-sm">
                <div class="flex items-start gap-3 mb-3">
                    <span class="text-2xl">‚õ¥Ô∏è</span>
                    <div>
                        <h3 class="font-bold text-lg">Marine & Transport</h3>
                        <p class="text-sm text-gray-500">Ferry, speedboat, kapal wisata, susur sungai.</p>
                    </div>
                </div>
            </div>
            <div class="glass-card p-5 rounded-2xl border-t-4 border-orange-500 shadow-sm">
                <div class="flex items-start gap-3 mb-3">
                    <span class="text-2xl">üé™</span>
                    <div>
                        <h3 class="font-bold text-lg">Event & Paket</h3>
                        <p class="text-sm text-gray-500">Event tahunan, paket wisata, itinerary.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Progress Section -->
    <section class="py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto bg-gradient-to-br from-emerald-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 rounded-3xl">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-5xl font-bold mb-4">Progress & Aktivitas Tim</h2>
            <p class="text-gray-500 dark:text-gray-400">Data real-time dari GitHub Repository</p>
        </div>

        <div id="teamProgressContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Will be populated by JavaScript -->
        </div>
    </section>

    <!-- Teams Grid -->
    <section id="teams" class="py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative section-closed">
        <div class="absolute inset-0 flex items-center justify-center z-10 pointer-events-auto">
            <div class="glass-card p-6 rounded-2xl shadow-2xl text-center max-w-md">
                <div class="text-4xl mb-3">üîí</div>
                <h3 class="text-xl font-bold mb-2">Section Ini Ditutup</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">Lihat progress tim di section di atas. Untuk perubahan data, hubungi PIC:</p>
                <div class="flex flex-col gap-2">
                    <a href="https://wa.me/6282157566869" target="_blank" 
                       class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-semibold transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        WhatsApp PIC
                    </a>
                    <p class="text-xs text-gray-500">Atau bicara langsung dengan koordinator</p>
                </div>
            </div>
        </div>
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-5xl font-bold mb-4">Daftar Tim & Pilihan Subtema</h2>
            <p class="text-gray-500 dark:text-gray-400">Data tim dan anggota diambil dari GitHub Issues</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Tim 1 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-emerald-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full">TIM 01</span>
                    <span class="text-2xl">üèûÔ∏è</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-emerald-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="text-xs font-medium text-gray-400">PIC: Navies</div>
                    </div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Glenn</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Bregas</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Reza</span>
                    </div>
                </div>
            </div>

            <!-- Tim 2 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-orange-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 px-3 py-1 rounded-full">TIM 02</span>
                    <span class="text-2xl">üçú</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-orange-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Widhi</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Chalel</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Ikhsan</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Ridho</span>
                    </div>
                </div>
            </div>

            <!-- Tim 3 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-emerald-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full">TIM 03</span>
                    <span class="text-2xl">üïå</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-emerald-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Navies</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Navies</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Rio</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Habibi</span>
                    </div>
                </div>
            </div>

            <!-- Tim 4 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-purple-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-3 py-1 rounded-full">TIM 04</span>
                    <span class="text-2xl">üé≠</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-purple-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Ghani</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Ghani</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Aldi</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Dhika</span>
                    </div>
                </div>
            </div>

            <!-- Tim 5 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-purple-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-3 py-1 rounded-full">TIM 05</span>
                    <span class="text-2xl">‚õ¥Ô∏è</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-purple-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Ghani</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Lawindra</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Weka</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Farhan</span>
                    </div>
                </div>
            </div>

            <!-- Tim 6 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-emerald-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full">TIM 06</span>
                    <span class="text-2xl">üè†</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-emerald-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Navies</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Tristan</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Fauzan</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Nizar</span>
                    </div>
                </div>
            </div>

            <!-- Tim 7 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-orange-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 px-3 py-1 rounded-full">TIM 07</span>
                    <span class="text-2xl">üó∫Ô∏è</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-orange-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Widhi</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Ghatan</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Wahyu</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Abi</span>
                    </div>
                </div>
            </div>

            <!-- Tim 8 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-purple-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-3 py-1 rounded-full">TIM 08</span>
                    <span class="text-2xl">‚≠ê</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-purple-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Ghani</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Lutfi</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Ibran</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Hilal</span>
                    </div>
                </div>
            </div>
            
            <!-- Tim 9 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-emerald-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full">TIM 09</span>
                    <span class="text-2xl">üìç</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-emerald-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Navies</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Zidan</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Rafik</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Qiqi</span>
                    </div>
                </div>
            </div>

            <!-- Tim 10 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-purple-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-3 py-1 rounded-full">TIM 10</span>
                    <span class="text-2xl">üë•</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-purple-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Ghani</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Aji</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Rafif</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Diaz</span>
                    </div>
                </div>
            </div>

            <!-- Tim 11 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-orange-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 px-3 py-1 rounded-full">TIM 11</span>
                    <span class="text-2xl">üé™</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-orange-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Widhi</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Asnia</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Diva</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Nabila</span>
                    </div>
                </div>
            </div>

            <!-- Tim 12 -->
            <div class="group glass-card p-6 rounded-2xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-t-4 border-orange-500">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-xs font-bold bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 px-3 py-1 rounded-full">TIM 12</span>
                    <span class="text-2xl">üì¶</span>
                </div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-orange-500 transition-colors">Pilih 1 dari 5 subtema</h3>
                <p class="text-sm text-gray-500 mb-4">Tim memilih subtema sendiri dari 5 opsi resmi.</p>
                <div class="border-t border-gray-100 dark:border-gray-700 pt-4 mt-4">
                    <div class="text-xs font-medium text-gray-400 mb-2">PIC: Widhi</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Widhi</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Nasywa</span>
                        <span class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">Mozel</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Claim Modal -->
    <div id="claimModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 px-4">
        <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-lg w-full border border-gray-200 dark:border-gray-800 p-6 relative">
            <button id="closeClaimModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200">‚úï</button>
            <div class="mb-4">
                <p class="text-sm text-gray-500">Claim subtema via GitHub Issue</p>
                <h3 class="text-2xl font-bold">Form Claim Subtema</h3>
            </div>
            <div class="space-y-4">
                <label class="block text-sm font-semibold">Nomor Tim</label>
                <select id="claimTeamNumber" class="w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 px-3 py-2">
                    <option value="">Pilih Tim (01-12)</option>
                    <option value="1">Tim 01</option>
                    <option value="2">Tim 02</option>
                    <option value="3">Tim 03</option>
                    <option value="4">Tim 04</option>
                    <option value="5">Tim 05</option>
                    <option value="6">Tim 06</option>
                    <option value="7">Tim 07</option>
                    <option value="8">Tim 08</option>
                    <option value="9">Tim 09</option>
                    <option value="10">Tim 10</option>
                    <option value="11">Tim 11</option>
                    <option value="12">Tim 12</option>
                </select>

                <label class="block text-sm font-semibold">Nama Tim</label>
                <input id="claimTeamName" type="text" placeholder="Contoh: Tim 01 - Wisata Alam" class="w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 px-3 py-2" />

                <label class="block text-sm font-semibold">Subtema yang diambil</label>
                <select id="claimSubtema" class="w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 px-3 py-2">
                    <option value="">Pilih 1 dari 5 subtema</option>
                    <option>Wisata Alam</option>
                    <option>Kuliner Khas</option>
                    <option>Religi & Budaya</option>
                    <option>Marine & Transport</option>
                    <option>Event & Paket</option>
                </select>

                <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-sm border border-gray-200 dark:border-gray-700">
                    <div class="font-semibold mb-2">Anggota & PIC (otomatis)</div>
                    <div id="claimMembers" class="text-gray-600 dark:text-gray-300">Pilih nomor tim untuk melihat anggota.</div>
                </div>

                <button id="submitClaim" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition">Buka Issue Claim Subtema</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-20 pb-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 border-b border-gray-800 pb-12">
                <div>
                    <h4 class="text-2xl font-bold mb-4">PKAltim 2026</h4>
                    <p class="text-gray-400">
                        Project Based Learning<br>
                        SMK Negeri 7 Samarinda<br>
                        Kompetensi Keahlian PPLG
                    </p>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4 text-emerald-500">Links</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="https://github.com/fk0u/pkaltim" class="hover:text-white transition">GitHub Repository</a></li>
                        <li><a href="https://github.com/fk0u/pkaltim/blob/main/docs/submission-guide.md" class="hover:text-white transition">Panduan Tugas</a></li>
                        <li><a href="https://github.com/fk0u/pkaltim/tree/main/teams/tim-contoh" class="hover:text-white transition">Lihat Contoh</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4 text-emerald-500">Credits</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li>Kajur: Hendra Yuni Irawan, S.T., M.Kom</li>
                        <li>PIC: Navies, Ghani, Widhi</li>
                        <li>Siswa XII PPLG 1 (Angkatan 2026)</li>
                    </ul>
                </div>
            </div>
            <div class="pt-8 text-center text-gray-500 text-sm">
                &copy; 2026 XII PPLG 1 SMKN 7 Samarinda. Open Source Project.
            </div>
        </div>
    </footer>

    <script>
        // Nav shadow on scroll
        window.addEventListener('scroll', function() {
            const nav = document.querySelector('nav');
            if (window.scrollY > 20) {
                nav.classList.add('shadow-lg');
            } else {
                nav.classList.remove('shadow-lg');
            }
        });

        // Theme toggle with localStorage
        const root = document.documentElement;
        const body = document.body;
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const themeLabel = document.getElementById('themeLabel');

        function applyTheme(mode) {
            if (mode === 'dark') {
                root.classList.add('dark');
                body.classList.add('dark');
                themeIcon.textContent = 'üåô';
                themeLabel.textContent = 'Dark';
            } else {
                root.classList.remove('dark');
                body.classList.remove('dark');
                themeIcon.textContent = 'üåû';
                themeLabel.textContent = 'Light';
            }
            localStorage.setItem('theme', mode);
        }

        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(savedTheme ? savedTheme : (prefersDark ? 'dark' : 'light'));

        themeToggle.addEventListener('click', () => {
            const isDark = root.classList.contains('dark');
            applyTheme(isDark ? 'light' : 'dark');
        });

        // Team data mapping
        const teamsData = {
            1: { name: 'Tim 01', members: ['Glenn', 'Bregas', 'Reza'], pic: 'Navies' },
            2: { name: 'Tim 02', members: ['Chalel', 'Ikhsan', 'Ridho'], pic: 'Widhi' },
            3: { name: 'Tim 03', members: ['Navies', 'Rio', 'Habibi'], pic: 'Navies' },
            4: { name: 'Tim 04', members: ['Ghani', 'Aldi', 'Dhika'], pic: 'Ghani' },
            5: { name: 'Tim 05', members: ['Lawindra', 'Weka', 'Farhan'], pic: 'Ghani' },
            6: { name: 'Tim 06', members: ['Tristan', 'Fauzan', 'Nizar'], pic: 'Navies' },
            7: { name: 'Tim 07', members: ['Ghatan', 'Wahyu', 'Abi'], pic: 'Widhi' },
            8: { name: 'Tim 08', members: ['Lutfi', 'Ibran', 'Hilal'], pic: 'Ghani' },
            9: { name: 'Tim 09', members: ['Zidan', 'Rafik', 'Qiqi'], pic: 'Navies' },
            10: { name: 'Tim 10', members: ['Aji', 'Rafif', 'Diaz'], pic: 'Ghani' },
            11: { name: 'Tim 11', members: ['Asnia', 'Diva', 'Nabila'], pic: 'Widhi' },
            12: { name: 'Tim 12', members: ['Widhi', 'Nasywa', 'Mozel'], pic: 'Widhi' },
        };

        // Inject status badge + claim button on each team card
        document.querySelectorAll('#teams .group.glass-card').forEach((card, idx) => {
            const p = card.querySelector('p.text-sm');
            if (!p) return;
            const heading = card.querySelector('h3');
            if (heading) heading.setAttribute('data-team-heading', `${idx + 1}`);
            p.setAttribute('data-team-desc', `${idx + 1}`);
            const wrapper = document.createElement('div');
            wrapper.className = 'flex flex-col gap-2 mb-3';
            wrapper.innerHTML = `
                <span data-subtema-team="${idx + 1}" class="inline-flex items-center gap-2 text-xs font-semibold px-3 py-1 rounded-full bg-amber-100 text-amber-700 dark:bg-amber-900/60 dark:text-amber-100">
                    <span class="w-2 h-2 rounded-full bg-amber-500"></span>
                    Subtema: belum dipilih
                </span>
                <span data-submission-team="${idx + 1}" class="inline-flex items-center gap-2 text-xs font-semibold px-3 py-1 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-200">
                    <span class="w-2 h-2 rounded-full bg-gray-400"></span>
                    Submission: belum ada
                </span>
                <button data-claim="true" data-team="${idx + 1}" class="text-xs inline-flex items-center justify-center gap-2 px-3 py-2 rounded-full bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition">
                    Claim Subtema
                    <span aria-hidden="true">‚Üí</span>
                </button>
            `;
            p.insertAdjacentElement('afterend', wrapper);
        });

        const state = { claims: {}, submissions: {} };

        // Modal logic
        const modal = document.getElementById('claimModal');
        const openClaimModalBtn = document.getElementById('openClaimModal');
        const closeClaimModalBtn = document.getElementById('closeClaimModal');
        const submitClaimBtn = document.getElementById('submitClaim');
        const teamNumberInput = document.getElementById('claimTeamNumber');
        const teamNameInput = document.getElementById('claimTeamName');
        const subtemaInput = document.getElementById('claimSubtema');
        const membersBox = document.getElementById('claimMembers');

        function openModal(prefillTeam) {
            if (prefillTeam) {
                teamNumberInput.value = prefillTeam.toString();
                fillMembers(prefillTeam);
                teamNameInput.value = teamsData[prefillTeam]?.name || '';
            }
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal() {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function fillMembers(num) {
            const data = teamsData[num];
            if (!data) {
                membersBox.textContent = 'Pilih nomor tim untuk melihat anggota.';
                return;
            }
            membersBox.innerHTML = `
                <div class="font-semibold">${data.name}</div>
                <div class="text-sm text-gray-500">PIC: ${data.pic}</div>
                <div class="mt-1 text-sm text-gray-600 dark:text-gray-200">Anggota: ${data.members.join(', ')}</div>
            `;
        }

        if (teamNumberInput) {
            teamNumberInput.addEventListener('change', (e) => {
                fillMembers(e.target.value);
                const data = teamsData[e.target.value];
                teamNameInput.value = data?.name || '';
            });
        }

        if (openClaimModalBtn) {
            openClaimModalBtn.addEventListener('click', () => openModal());
        }
        if (closeClaimModalBtn) {
            closeClaimModalBtn.addEventListener('click', closeModal);
        }
        modal?.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        document.querySelectorAll('[data-claim="true"]').forEach(btn => {
            btn.addEventListener('click', () => {
                const t = btn.getAttribute('data-team');
                openModal(t || undefined);
            });
        });

        if (submitClaimBtn) {
            submitClaimBtn.addEventListener('click', () => {
                const num = teamNumberInput.value;
                const name = teamNameInput.value.trim();
                const subtema = subtemaInput.value.trim();
                const data = teamsData[num];
                if (!num || !subtema) {
                    alert('Pilih nomor tim dan subtema terlebih dahulu.');
                    return;
                }
                const title = encodeURIComponent(`[Tim ${num.padStart ? num.padStart(2, '0') : num}] Claim Subtema - ${subtema}`);
                const body = encodeURIComponent(`Isi format ini:\n- Tim: ${num} (${name || data?.name || ''})\n- Subtema: ${subtema}\n- Anggota: ${data ? data.members.join(', ') : '-'}\n- PIC: ${data ? data.pic : '-'}\n\nCatatan: subtema boleh sama dengan tim lain.`);
                const url = `https://github.com/fk0u/pkaltim/issues/new?labels=subtema&title=${title}&body=${body}`;
                window.open(url, '_blank');
                closeModal();
            });
        }

        // Configuration
        const CLOSING_MODE = true; // Set to true to close subtema selection
        
        // Fetch subtema claims from GitHub Issues (label: subtema)
        const owner = 'fk0u';
        const repo = 'pkaltim';

        const ghHeaders = {
            'Accept': 'application/vnd.github+json',
            'X-GitHub-Api-Version': '2022-11-28',
        };

        async function fetchClaims() {
            try {
                const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/issues?state=all&per_page=100&sort=updated&direction=desc`, {
                    headers: ghHeaders,
                    cache: 'no-store',
                    mode: 'cors',
                });
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                const issues = await res.json();
                const claimsMap = {};

                issues.forEach((issue) => {
                    const hasLabel = Array.isArray(issue.labels) && issue.labels.some(l => (l.name || '').toLowerCase() === 'subtema');
                    const inTitle = /claim\s*subtema/i.test(issue.title || '');
                    if (!hasLabel && !inTitle) return;
                    const m = (issue.title || '').match(/Tim\s*(\d{1,2})/i);
                    if (!m) return;
                    const teamNum = parseInt(m[1], 10);
                    let subtema = '';
                    const titleSub = issue.title.replace(/.*-\s*/,'').trim();
                    if (titleSub && !/\[Tim/i.test(titleSub)) subtema = titleSub;
                    if (!subtema && issue.body) {
                        const b = issue.body.match(/Subtema\s*:\s*(.+)/i);
                        if (b) subtema = b[1].trim();
                    }
                    claimsMap[teamNum] = {
                        subtema: subtema || 'Terbaca dari issue',
                        url: issue.html_url,
                        state: issue.state,
                    };
                });

                state.claims = claimsMap;
                syncUI();
            } catch (err) {
                console.warn('Gagal fetch issues subtema:', err);
            }
        }

        async function fetchSubmissions() {
            try {
                const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/pulls?state=all&per_page=100&sort=updated&direction=desc`, {
                    headers: ghHeaders,
                    cache: 'no-store',
                    mode: 'cors',
                });
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                const prs = await res.json();
                const submissions = {};

                const priority = { merged: 3, open: 2, closed: 1 };

                prs.forEach((pr) => {
                    const m = pr.title.match(/Tim\s*(\d{1,2})/i);
                    if (!m) return;
                    const teamNum = parseInt(m[1], 10);
                    const status = pr.merged_at ? 'merged' : (pr.state === 'open' ? 'open' : 'closed');
                    const current = submissions[teamNum];
                    if (!current || priority[status] > priority[current.status]) {
                        submissions[teamNum] = {
                            status,
                            url: pr.html_url,
                            title: pr.title,
                        };
                    }
                });

                state.submissions = submissions;
                syncUI();
            } catch (err) {
                console.warn('Gagal fetch PR submissions:', err);
            }
        }

        function syncUI() {
            const totalTeams = 12;
            const claimed = Object.keys(state.claims).length;
            const submitted = Object.keys(state.submissions).length;

            // Update badges
            const badgeClaims = document.getElementById('badgeClaims');
            const badgePending = document.getElementById('badgePending');
            const badgeSubmitted = document.getElementById('badgeSubmitted');
            if (badgeClaims) badgeClaims.textContent = `Subtema dipilih: ${claimed}/${totalTeams}`;
            if (badgePending) badgePending.textContent = `Belum pilih: ${Math.max(totalTeams - claimed, 0)}`;
            if (badgeSubmitted) badgeSubmitted.textContent = `Submitted: ${submitted}/${totalTeams}`;

            // Update bars
            const barClaims = document.getElementById('barClaims');
            const barSubmit = document.getElementById('barSubmit');
            const claimsCount = document.getElementById('claimsCount');
            const submitCount = document.getElementById('submitCount');
            const claimsPct = Math.min(100, (claimed / totalTeams) * 100);
            const submitPct = Math.min(100, (submitted / totalTeams) * 100);
            if (barClaims) barClaims.style.width = `${claimsPct}%`;
            if (barSubmit) barSubmit.style.width = `${submitPct}%`;
            if (claimsCount) claimsCount.textContent = claimed;
            if (submitCount) submitCount.textContent = submitted;

            // Update badges on cards
            document.querySelectorAll('[data-subtema-team]').forEach((el) => {
                const team = parseInt(el.getAttribute('data-subtema-team'), 10);
                const claim = state.claims[team];
                const dot = '<span class="w-2 h-2 rounded-full bg-emerald-500"></span>';
                if (claim) {
                    el.classList.remove('bg-amber-100','text-amber-700','dark:bg-amber-900/60','dark:text-amber-100');
                    el.classList.add('bg-emerald-100','text-emerald-700','dark:bg-emerald-900/60','dark:text-emerald-100');
                    el.innerHTML = `${dot} Subtema: ${claim.subtema}`;
                } else {
                    el.classList.add('bg-amber-100','text-amber-700','dark:bg-amber-900/60','dark:text-amber-100');
                    el.classList.remove('bg-emerald-100','text-emerald-700','dark:bg-emerald-900/60','dark:text-emerald-100');
                    el.innerHTML = '<span class="w-2 h-2 rounded-full bg-amber-500"></span> Subtema: belum dipilih';
                }
            });

            // Update card titles/descriptions to reflect claimed subtema
            document.querySelectorAll('[data-team-heading]').forEach((el) => {
                const team = parseInt(el.getAttribute('data-team-heading'), 10);
                const claim = state.claims[team];
                if (claim) {
                    el.textContent = `Subtema: ${claim.subtema}`;
                } else {
                    el.textContent = 'Pilih 1 dari 5 subtema';
                }
            });
            document.querySelectorAll('[data-team-desc]').forEach((el) => {
                const team = parseInt(el.getAttribute('data-team-desc'), 10);
                const claim = state.claims[team];
                if (claim) {
                    el.textContent = 'Sudah claim via GitHub Issue';
                } else {
                    el.textContent = 'Tim memilih subtema sendiri dari 5 opsi resmi.';
                }
            });

            document.querySelectorAll('[data-submission-team]').forEach((el) => {
                const team = parseInt(el.getAttribute('data-submission-team'), 10);
                const submission = state.submissions[team];
                el.classList.remove('bg-emerald-100','text-emerald-700','dark:bg-emerald-900/60','dark:text-emerald-100','bg-blue-100','text-blue-700','dark:bg-blue-900/60','dark:text-blue-100','bg-gray-100','text-gray-700','dark:bg-gray-800','dark:text-gray-200');
                if (submission) {
                    let colorClasses = ['bg-blue-100','text-blue-700','dark:bg-blue-900/60','dark:text-blue-100'];
                    if (submission.status === 'merged') colorClasses = ['bg-emerald-100','text-emerald-700','dark:bg-emerald-900/60','dark:text-emerald-100'];
                    if (submission.status === 'closed' && !submission.merged_at) colorClasses = ['bg-gray-100','text-gray-700','dark:bg-gray-800','dark:text-gray-200'];
                    el.classList.add(...colorClasses);
                    const dotColor = submission.status === 'merged' ? 'bg-emerald-500' : (submission.status === 'open' ? 'bg-blue-500' : 'bg-gray-400');
                    el.innerHTML = `<span class="w-2 h-2 rounded-full ${dotColor}"></span> Submission: ${submission.status}`;
                } else {
                    el.classList.add('bg-gray-100','text-gray-700','dark:bg-gray-800','dark:text-gray-200');
                    el.innerHTML = '<span class="w-2 h-2 rounded-full bg-gray-400"></span> Submission: belum ada';
                }
            });
        }

        // Fetch team members from GitHub Issues
        async function fetchTeamMembers() {
            try {
                const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/issues?state=all&per_page=100`, {
                    headers: ghHeaders,
                    cache: 'no-store',
                });
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                const issues = await res.json();
                const teamsInfo = {};

                issues.forEach(issue => {
                    const match = issue.title.match(/Tim\s*(\d{1,2})/i);
                    if (!match) return;
                    const teamNum = parseInt(match[1], 10);
                    
                    // Extract members from body
                    let members = [];
                    let pic = '';
                    if (issue.body) {
                        const memberMatch = issue.body.match(/Anggota\s*:\s*(.+)/i);
                        if (memberMatch) {
                            members = memberMatch[1].split(',').map(m => m.trim()).filter(Boolean);
                        }
                        const picMatch = issue.body.match(/PIC\s*:\s*(.+)/i);
                        if (picMatch) {
                            pic = picMatch[1].trim();
                        }
                    }

                    if (!teamsInfo[teamNum] || issue.state === 'open') {
                        teamsInfo[teamNum] = { members, pic, issueUrl: issue.html_url };
                    }
                });

                state.teamsInfo = teamsInfo;
                renderTeamProgress();
            } catch (err) {
                console.warn('Gagal fetch team members:', err);
            }
        }

        // Fetch commits for progress tracking
        async function fetchTeamCommits() {
            try {
                const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/commits?per_page=100`, {
                    headers: ghHeaders,
                    cache: 'no-store',
                });
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                const commits = await res.json();
                const teamCommits = {};

                commits.forEach(commit => {
                    for (let i = 1; i <= 12; i++) {
                        const teamPattern = new RegExp(`tim[-_]0?${i}|team[-_]0?${i}`, 'i');
                        const message = commit.commit.message || '';
                        const files = commit.files || [];
                        
                        if (teamPattern.test(message) || files.some(f => teamPattern.test(f.filename))) {
                            if (!teamCommits[i]) teamCommits[i] = [];
                            teamCommits[i].push({
                                message: message.split('\n')[0],
                                author: commit.commit.author.name,
                                date: new Date(commit.commit.author.date),
                                sha: commit.sha.substring(0, 7),
                                url: commit.html_url
                            });
                        }
                    }
                });

                state.teamCommits = teamCommits;
                renderTeamProgress();
            } catch (err) {
                console.warn('Gagal fetch commits:', err);
            }
        }

        // Render team progress cards
        function renderTeamProgress() {
            const container = document.getElementById('teamProgressContainer');
            if (!container) return;

            const html = [];
            for (let i = 1; i <= 12; i++) {
                const teamNum = i.toString().padStart(2, '0');
                const claim = state.claims[i];
                const submission = state.submissions[i];
                const commits = state.teamCommits?.[i] || [];
                const teamInfo = state.teamsInfo?.[i] || teamsData[teamNum];
                
                // Calculate progress
                let progress = 0;
                if (claim) progress += 25;
                if (commits.length > 0) progress += 25;
                if (commits.length > 5) progress += 25;
                if (submission?.status === 'merged') progress += 25;
                else if (submission?.status === 'open') progress += 15;

                const circumference = 2 * Math.PI * 36;
                const dashoffset = circumference - (progress / 100) * circumference;

                const progressColor = progress >= 75 ? 'text-emerald-500' : progress >= 50 ? 'text-blue-500' : progress >= 25 ? 'text-yellow-500' : 'text-gray-400';
                const ringColor = progress >= 75 ? 'stroke-emerald-500' : progress >= 50 ? 'stroke-blue-500' : progress >= 25 ? 'stroke-yellow-500' : 'stroke-gray-400';

                const latestCommits = commits.slice(0, 3).map(c => 
                    `<div class="text-xs py-1.5 px-2 rounded bg-gray-50 dark:bg-gray-800">
                        <a href="${c.url}" target="_blank" class="font-mono text-blue-600 dark:text-blue-400 hover:underline">${c.sha}</a>
                        <p class="text-gray-600 dark:text-gray-300 truncate">${c.message}</p>
                        <p class="text-gray-400 text-xs">${c.author} ‚Ä¢ ${c.date.toLocaleDateString('id-ID')}</p>
                    </div>`
                ).join('');

                html.push(`
                    <div class="glass-card p-6 rounded-2xl border-t-4 ${claim ? 'border-emerald-500' : 'border-gray-300'}">
                        <div class="flex items-start justify-between mb-4">
                            <div>
                                <h3 class="text-xl font-bold">Tim ${teamNum}</h3>
                                <p class="text-sm text-gray-500">${claim?.subtema || 'Belum pilih subtema'}</p>
                            </div>
                            <div class="relative">
                                <svg class="w-20 h-20 progress-ring">
                                    <circle cx="40" cy="40" r="36" stroke="currentColor" stroke-width="6" fill="none" class="text-gray-200 dark:text-gray-700" />
                                    <circle cx="40" cy="40" r="36" stroke="currentColor" stroke-width="6" fill="none" class="${ringColor}" 
                                            stroke-dasharray="${circumference}" stroke-dashoffset="${dashoffset}" stroke-linecap="round" />
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <span class="text-lg font-bold ${progressColor}">${progress}%</span>
                                </div>
                            </div>
                        </div>

                        ${teamInfo ? `
                        <div class="mb-4 pb-4 border-b border-gray-200 dark:border-gray-700">
                            <p class="text-sm font-semibold text-gray-600 dark:text-gray-300">PIC: ${teamInfo.pic || '-'}</p>
                            <div class="flex flex-wrap gap-1 mt-2">
                                ${(teamInfo.members || []).map(m => `<span class="text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 px-2 py-0.5 rounded">${m}</span>`).join('')}
                            </div>
                        </div>
                        ` : ''}

                        <div class="space-y-2">
                            <div class="flex items-center justify-between text-sm">
                                <span class="text-gray-600 dark:text-gray-300">Commits</span>
                                <span class="font-bold ${commits.length > 0 ? 'text-emerald-600' : 'text-gray-400'}">${commits.length}</span>
                            </div>
                            ${latestCommits ? `
                            <details class="text-sm">
                                <summary class="cursor-pointer text-blue-600 dark:text-blue-400 hover:underline">Lihat Changelog</summary>
                                <div class="mt-2 space-y-1 max-h-48 overflow-y-auto">
                                    ${latestCommits}
                                </div>
                            </details>
                            ` : '<p class="text-xs text-gray-400">Belum ada commit</p>'}
                        </div>

                        ${submission ? `
                        <div class="mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
                            <a href="${submission.url}" target="_blank" class="text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1">
                                ${submission.status === 'merged' ? '‚úÖ' : submission.status === 'open' ? 'üîÑ' : '‚ùå'}
                                Pull Request ${submission.status}
                            </a>
                        </div>
                        ` : ''}
                    </div>
                `);
            }

            container.innerHTML = html.join('');
        }

        function refreshData() {
            fetchClaims();
            fetchSubmissions();
            fetchTeamMembers();
            fetchTeamCommits();
        }

        // Apply closing mode if enabled
        if (CLOSING_MODE) {
            const subtemaSection = document.getElementById('subtema-section');
            const openClaimBtn = document.getElementById('openClaimModal');
            if (openClaimBtn) openClaimBtn.disabled = true;
        }

        // Initial fetch + polling every 60s
        refreshData();
        setInterval(refreshData, 60000);
    </script>
</body>
</html>
